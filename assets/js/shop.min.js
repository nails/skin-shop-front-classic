var _nails_skin_shop_classic;_nails_skin_shop_classic=function(){return this._product_single_image_gallery_inited_xssm=!1,this._product_single_image_gallery_inited_mdlg=!1,this.__construct=function(){var i=this;$(".nails-skin-shop-classic .product-sort").length>0&&this._browse_sorter_init(),$(".nails-skin-shop-classic .sidebar-filter").length>0&&this._browse_sidebar_filter_init(),$(".nails-skin-shop-classic.browse.product.single").length>0&&(this._product_single_image_gallery_init(),this._product_single_image_zoomer_init(),$(window).on("resize",function(){i._product_single_image_gallery_init()}))},this._browse_sidebar_filter_init=function(){$(".nails-skin-shop-classic .sidebar-filter .filter-list").hover(function(){var i=parseInt($(this).css("max-height"),10);$(this).attr("data-orig-max-height",i);var e=1.5*i;$(this).stop().animate({"max-height":e})},function(){var i=$(this).attr("data-orig-max-height");$(this).stop().animate({"max-height":i})})},this._browse_sorter_init=function(){$(".nails-skin-shop-classic .product-sort select").on("change",function(){$(".nails-skin-shop-classic .product-sort").addClass("submitting"),$(this).closest("form").submit()})},this._product_single_image_zoomer_init=function(){if($.fn.zoom){var i;i=this.get_current_bs_breakpoint(),("md"===i||"lg"===i)&&(this._product_single_image_zoomer_destroy(),$(".featured-image-md-lg .featured-img-link").zoom())}},this._product_single_image_zoomer_destroy=function(){if($.fn.zoom){var i;i=this.get_current_bs_breakpoint(),("md"===i||"lg"===i)&&$(".featured-image-md-lg .featured-img-link").trigger("zoom.destroy")}},this._product_single_image_gallery_init=function(){var i,e,t,r=[];if(i=this,e=this.get_current_bs_breakpoint(),"xs"===e||"sm"===e){if(this._product_single_image_gallery_inited_xssm)return;this._product_single_image_gallery_inited_xssm=!0,t={link:$(".featured-image-xs-sm .featured-img-link").attr("href"),link_el:$(".featured-image-xs-sm .featured-img-link"),img:$(".featured-image-xs-sm .featured-img-img").attr("src"),img_el:$(".featured-image-xs-sm .featured-img-img")},$(".gallery-xs-sm .gallery-link").each(function(i){r[i]={},r[i].link=$(this).attr("href"),r[i].link_el=$(this)}),$(".gallery-xs-sm .gallery-img").each(function(i){r[i].img=$(this).attr("src"),r[i].img_el=$(this)}),$(r).each(function(){var i=$(this).get(0);i.link_el.on("click",function(){return t.img_el.attr("src",i.img),t.link_el.attr("href",i.link),!1})})}if("md"===e||"lg"===e){if(this._product_single_image_gallery_inited_mdlg)return;this._product_single_image_gallery_inited_mdlg=!0,t={link:$(".featured-image-md-lg .featured-img-link").attr("href"),link_el:$(".featured-image-md-lg .featured-img-link"),img:$(".featured-image-md-lg .featured-img-img").attr("src"),img_el:$(".featured-image-md-lg .featured-img-img")},$(".gallery-md-lg .gallery-link").each(function(i){r[i]={},r[i].link=$(this).attr("href"),r[i].link_el=$(this)}),$(".gallery-md-lg .gallery-img").each(function(i){r[i].img=$(this).attr("src"),r[i].img_el=$(this)}),$.fn.fancybox&&$(t.link_el).on("click",function(){var i=[],e=$(".featured-image-md-lg .featured-img-link").attr("href");i.push({href:e});var t=!1;for(var s in r)t!==!1||r[s].link!==e?t!==!1&&i.push({href:r[s].link}):t=s;for(s=0;t>s;s++)i.push({href:r[s].link});return $.fancybox.open(i),!1}),$(r).each(function(){var e=$(this).get(0);e.link_el.on("click",function(){return t.img_el.attr("src",e.img),t.link_el.attr("href",e.link),i._product_single_image_zoomer_init(),!1})})}},this.get_current_bs_breakpoint=function(){var i=["xs","sm","md","lg"],e=window.document,t=e.createElement("div");e.body.appendChild(t);for(var r=i.length-1;r>=0;r--){var s=i[r];if(t.className="hidden-"+s,null===t.offsetParent)return e.body.removeChild(t),s}return""},this.__construct()};