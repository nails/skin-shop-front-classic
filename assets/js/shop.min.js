var _nails_skin_shop_classic;_nails_skin_shop_classic=function(){return this._product_single_image_gallery_inited_xssm=!1,this._product_single_image_gallery_inited_mdlg=!1,this.__construct=function(){var e=this;$(".nails-skin-shop-classic .product-sort").length>0&&this._browse_sorter_init(),$(".nails-skin-shop-classic .sidebar-filter").length>0&&this._browse_sidebar_filter_init(),$(".nails-skin-shop-classic.browse.product.single").length>0&&(this._product_single_image_gallery_init(),this._product_single_image_zoomer_init(),this._popover_init(),$(window).on("resize",function(){e._product_single_image_gallery_init()})),$(".nails-skin-shop-classic.checkout").length>0&&this._checkout_init()},this._browse_sidebar_filter_init=function(){$(".nails-skin-shop-classic .sidebar-filter .filter-list").hover(function(){var e=parseInt($(this).css("max-height"),10);$(this).attr("data-orig-max-height",e);var i=1.5*e;$(this).stop().animate({"max-height":i})},function(){var e=$(this).attr("data-orig-max-height");$(this).stop().animate({"max-height":e})})},this._browse_sorter_init=function(){$(".nails-skin-shop-classic .product-sort select").on("change",function(){$(".nails-skin-shop-classic .product-sort").addClass("submitting"),$(this).closest("form").submit()})},this._product_single_image_zoomer_init=function(){if($.fn.zoom){var e;e=this.get_current_bs_breakpoint(),("md"===e||"lg"===e)&&(this._product_single_image_zoomer_destroy(),$(".featured-image-md-lg .featured-img-link").zoom())}},this._product_single_image_zoomer_destroy=function(){if($.fn.zoom){var e;e=this.get_current_bs_breakpoint(),("md"===e||"lg"===e)&&$(".featured-image-md-lg .featured-img-link").trigger("zoom.destroy")}},this._product_single_image_gallery_init=function(){var e,i,s,a=[];if(e=this,i=this.get_current_bs_breakpoint(),"xs"===i||"sm"===i){if(this._product_single_image_gallery_inited_xssm)return;this._product_single_image_gallery_inited_xssm=!0,s={link:$(".featured-image-xs-sm .featured-img-link").attr("href"),link_el:$(".featured-image-xs-sm .featured-img-link"),img:$(".featured-image-xs-sm .featured-img-img").attr("src"),img_el:$(".featured-image-xs-sm .featured-img-img")},$(".gallery-xs-sm .gallery-link").each(function(e){a[e]={},a[e].link=$(this).attr("href"),a[e].link_el=$(this)}),$(".gallery-xs-sm .gallery-img").each(function(e){a[e].img=$(this).attr("src"),a[e].img_el=$(this)}),$(a).each(function(){var e=$(this).get(0);e.link_el.on("click",function(){return s.img_el.attr("src",e.img),s.link_el.attr("href",e.link),!1})})}if("md"===i||"lg"===i){if(this._product_single_image_gallery_inited_mdlg)return;this._product_single_image_gallery_inited_mdlg=!0,s={link:$(".featured-image-md-lg .featured-img-link").attr("href"),link_el:$(".featured-image-md-lg .featured-img-link"),img:$(".featured-image-md-lg .featured-img-img").attr("src"),img_el:$(".featured-image-md-lg .featured-img-img")},$(".gallery-md-lg .gallery-link").each(function(e){a[e]={},a[e].link=$(this).attr("href"),a[e].link_el=$(this)}),$(".gallery-md-lg .gallery-img").each(function(e){a[e].img=$(this).attr("src"),a[e].img_el=$(this)}),$.fn.fancybox&&$(s.link_el).on("click",function(){var e=[],i=$(".featured-image-md-lg .featured-img-link").attr("href");e.push({href:i});var s=!1;for(var t in a)s!==!1||a[t].link!==i?s!==!1&&e.push({href:a[t].link}):s=t;for(t=0;s>t;t++)e.push({href:a[t].link});return $.fancybox.open(e),!1}),$(a).each(function(){var i=$(this).get(0);i.link_el.on("click",function(){return s.img_el.attr("src",i.img),s.link_el.attr("href",i.link),e._product_single_image_zoomer_init(),!1})}),$("table.table-variants tr.variant.has-img").on("mouseenter",function(){e._product_single_image_variant_enter($(this).data("image"))})}},this._product_single_image_variant_enter=function(e){$("a.featured-img-link img").attr("src",e)},this._checkout_init=function(){$("#checkout-step-1 .panel-footer").removeClass("hidden"),$("#checkout-step-2 .panel-body").hide(),$("#checkout-step-2 .panel-footer").hide(),$("#checkout-step-2 .panel-footer a.action-back").removeClass("hidden"),$("#checkout-step-3 .panel-body").hide(),$("#checkout-step-3 .panel-footer").hide(),$("#progress-bar").removeClass("hidden"),$("#progress-bar-hr").remove(),this._checkout_set_progress(1),$("#same-billing-address").prop("checked")?$("#billing-address").hide():$("#billing-address").show();var e=this;$("#checkout-step-1 .panel-footer .action-continue").on("click",function(){return e._checkout_validate_step_1()&&($("#checkout-step-1 .panel-body").slideUp(),$("#checkout-step-1 .panel-footer").slideUp(),$("#checkout-step-2 .panel-body").slideDown(),$("#checkout-step-2 .panel-footer").slideDown(),e._checkout_set_progress(2)),!1}),$("#checkout-step-2 .panel-footer .action-continue").on("click",function(){return e._checkout_validate_step_2()&&($("#checkout-step-2 .panel-body").slideUp(),$("#checkout-step-2 .panel-footer").slideUp(),$("#progress-bar .progress-bar").text("Please Wait...").addClass("active"),$("#checkout-form").submit()),!1}),$("#checkout-step-2 .panel-footer .action-back").on("click",function(){return $("#checkout-step-1 .panel-body").slideDown(),$("#checkout-step-1 .panel-footer").slideDown(),$("#checkout-step-2 .panel-body").slideUp(),$("#checkout-step-2 .panel-footer").slideUp(),$("#checkout-step-1 .panel-heading .validate-ok").addClass("hidden"),$("#checkout-step-1 .panel-heading .validate-fail").addClass("hidden"),$("#checkout-step-2 .panel-heading .validate-ok").addClass("hidden"),$("#checkout-step-2 .panel-heading .validate-fail").addClass("hidden"),e._checkout_set_progress(1),!1}),$("#same-billing-address").on("change",function(){$(this).prop("checked")?$("#billing-address").hide():$("#billing-address").show()})},this._checkout_set_progress=function(e){var i=2,s="Step "+e+" of "+i,a=100/i*e;$("#progress-bar .progress-bar").animate({width:a+"%"}).text(s)},this._checkout_validate_step_1=function(){var e=!0,i="";if(i=$("input[name=delivery_address_line_1]").val(),i=$.trim(i),$("input[name=delivery_address_line_1]").closest(".form-group").removeClass("has-error has-feedback"),$("input[name=delivery_address_line_1]").next(".help-block").remove(),$("input[name=delivery_address_line_1]").siblings(".form-control-feedback").addClass("hidden"),0===i.replace(/\s/g,"").length&&(e=!1,$("input[name=delivery_address_line_1]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=delivery_address_line_1]").after('<p class="help-block">This field is required.</p>'),$("input[name=delivery_address_line_1]").siblings(".form-control-feedback").removeClass("hidden")),i=$("input[name=delivery_address_town]").val(),i=$.trim(i),$("input[name=delivery_address_town]").closest(".form-group").removeClass("has-error has-feedback"),$("input[name=delivery_address_town]").next(".help-block").remove(),$("input[name=delivery_address_town]").siblings(".form-control-feedback").addClass("hidden"),0===i.replace(/\s/g,"").length&&(e=!1,$("input[name=delivery_address_town]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=delivery_address_town]").after('<p class="help-block">This field is required.</p>'),$("input[name=delivery_address_town]").siblings(".form-control-feedback").removeClass("hidden")),i=$("input[name=delivery_address_postcode]").val(),i=$.trim(i),$("input[name=delivery_address_postcode]").closest(".form-group").removeClass("has-error has-feedback"),$("input[name=delivery_address_postcode]").next(".help-block").remove(),$("input[name=delivery_address_postcode]").siblings(".form-control-feedback").addClass("hidden"),0===i.replace(/\s/g,"").length&&(e=!1,$("input[name=delivery_address_postcode]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=delivery_address_postcode]").after('<p class="help-block">This field is required.</p>'),$("input[name=delivery_address_postcode]").siblings(".form-control-feedback").removeClass("hidden")),i=$("input[name=first_name]").val(),i=$.trim(i),$("input[name=first_name]").closest(".form-group").removeClass("has-error has-feedback"),$("input[name=first_name]").next(".help-block").remove(),$("input[name=first_name]").siblings(".form-control-feedback").addClass("hidden"),0===i.replace(/\s/g,"").length&&(e=!1,$("input[name=first_name]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=first_name]").after('<p class="help-block">This field is required.</p>'),$("input[name=first_name]").siblings(".form-control-feedback").removeClass("hidden")),i=$("input[name=last_name]").val(),i=$.trim(i),$("input[name=last_name]").closest(".form-group").removeClass("has-error has-feedback"),$("input[name=last_name]").next(".help-block").remove(),$("input[name=last_name]").siblings(".form-control-feedback").addClass("hidden"),0===i.replace(/\s/g,"").length&&(e=!1,$("input[name=last_name]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=last_name]").after('<p class="help-block">This field is required.</p>'),$("input[name=last_name]").siblings(".form-control-feedback").removeClass("hidden")),i=$("input[name=email]").val(),i=$.trim(i),$("input[name=email]").closest(".form-group").removeClass("has-error has-feedback"),$("input[name=email]").next(".help-block").remove(),$("input[name=email]").siblings(".form-control-feedback").addClass("hidden"),0===i.replace(/\s/g,"").length)e=!1,$("input[name=email]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=email]").after('<p class="help-block">This field is required.</p>'),$("input[name=email]").siblings(".form-control-feedback").removeClass("hidden");else{var s=/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/i;s.test(i)===!1&&(e=!1,$("input[name=email]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=email]").after('<p class="help-block">A valid email must be given.</p>'),$("input[name=email]").siblings(".form-control-feedback").removeClass("hidden"))}return e===!0?($("#checkout-step-1 .panel-heading .validate-ok").removeClass("hidden"),$("#checkout-step-1 .panel-heading .validate-fail").addClass("hidden")):($("#checkout-step-1 .panel-heading .validate-ok").addClass("hidden"),$("#checkout-step-1 .panel-heading .validate-fail").removeClass("hidden")),e},this._checkout_validate_step_2=function(){var e=!0,i="";return $("#same-billing-address").prop("checked")===!1&&(i=$("input[name=billing_address_line_1]").val(),i=$.trim(i),$("input[name=billing_address_line_1]").closest(".form-group").removeClass("has-error has-feedback"),$("input[name=billing_address_line_1]").next(".help-block").remove(),$("input[name=billing_address_line_1]").siblings(".form-control-feedback").addClass("hidden"),0===i.replace(/\s/g,"").length&&(e=!1,$("input[name=billing_address_line_1]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=billing_address_line_1]").after('<p class="help-block">This field is required.</p>'),$("input[name=billing_address_line_1]").siblings(".form-control-feedback").removeClass("hidden")),i=$("input[name=billing_address_town]").val(),i=$.trim(i),$("input[name=billing_address_town]").closest(".form-group").removeClass("has-error has-feedback"),$("input[name=billing_address_town]").next(".help-block").remove(),$("input[name=billing_address_town]").siblings(".form-control-feedback").addClass("hidden"),0===i.replace(/\s/g,"").length&&(e=!1,$("input[name=billing_address_town]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=billing_address_town]").after('<p class="help-block">This field is required.</p>'),$("input[name=billing_address_town]").siblings(".form-control-feedback").removeClass("hidden")),i=$("input[name=billing_address_postcode]").val(),i=$.trim(i),$("input[name=billing_address_postcode]").closest(".form-group").removeClass("has-error has-feedback"),$("input[name=billing_address_postcode]").next(".help-block").remove(),$("input[name=billing_address_postcode]").siblings(".form-control-feedback").addClass("hidden"),0===i.replace(/\s/g,"").length&&(e=!1,$("input[name=billing_address_postcode]").closest(".form-group").addClass("has-error has-feedback"),$("input[name=billing_address_postcode]").after('<p class="help-block">This field is required.</p>'),$("input[name=billing_address_postcode]").siblings(".form-control-feedback").removeClass("hidden"))),e===!0?($("#checkout-step-2 .panel-heading .validate-ok").removeClass("hidden"),$("#checkout-step-2 .panel-heading .validate-fail").addClass("hidden")):($("#checkout-step-2 .panel-heading .validate-ok").addClass("hidden"),$("#checkout-step-2 .panel-heading .validate-fail").removeClass("hidden")),e},this.get_current_bs_breakpoint=function(){var e=["xs","sm","md","lg"],i=window.document,s=i.createElement("div");i.body.appendChild(s);for(var a=e.length-1;a>=0;a--){var t=e[a];if(s.className="hidden-"+t,null===s.offsetParent)return i.body.removeChild(s),t}return""},this._popover_init=function(){"function"==typeof $.fn.popover&&$(".shop-bs-popover").popover({trigger:"hover",placement:"left"})},this.__construct()};
//# sourceMappingURL=./shop.min.js.map